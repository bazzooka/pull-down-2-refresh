!function t(e,i,n){function o(r,a){if(!i[r]){if(!e[r]){var c="function"==typeof require&&require;if(!a&&c)return c(r,!0);if(s)return s(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[r]={exports:{}};e[r][0].call(l.exports,function(t){var i=e[r][1][t];return o(i?i:t)},l,l.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e,i){"use strict";var n={isTouch:"ontouchstart"in window,touchStart:"ontouchstart"in window?"touchstart":"mousedown",touchMove:"ontouchstart"in window?"touchmove":"mousemove",touchEnd:"ontouchstart"in window?"touchend":"mouseup",getTouchEvents:function(t){return{x:t.clientX||t.touches&&t.touches[0]&&t.touches[0].clientX||t.targetTouches&&t.targetTouches[0]&&t.targetTouches[0].clientX||t.changedTouches&&t.changedTouches[0]&&t.changedTouches[0].clientX,y:t.clientY||t.touches&&t.touches[0]&&t.touches[0].clientY||t.targetTouches&&t.targetTouches[0]&&t.targetTouches[0].clientY||t.changedTouches&&t.changedTouches[0]&&t.changedTouches[0].clientY}}};e.exports=n},{}],2:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var o=t,s=e,r=i;a=h=c=void 0,n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,s);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(r)}var h=Object.getPrototypeOf(o);if(null===h)return void 0;t=h,e=s,i=r,n=!0}},c=t("./scroller"),h=n(c),l=t("./events"),u=n(l),d=function(t){function e(t){o(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.isLongOperationFinish=!1,this.svgElt=t.svgElt,this.operation=t.operation,this.line2Position={x:0,y:5},this.circleRayon=t.circleRayon||20,this.circleLength=2*Math.PI*this.circleRayon,this.loaderLineParams={x:0,y:0},this.stretchHeight=t.stretchHeight||100,this.line1=document.createElementNS("http://www.w3.org/2000/svg","path"),this.line2=document.createElementNS("http://www.w3.org/2000/svg","path"),this.circle=document.createElementNS("http://www.w3.org/2000/svg","circle"),this.line1.setAttribute("id","line1"),this.line2.setAttribute("id","line2"),this.line2.classList.add("loader-line"),this.circle.setAttribute("id","circle1"),this.svgElt.appendChild(this.line1),this.svgElt.appendChild(this.line2),this.svgElt.appendChild(this.circle)}return s(e,t),r(e,[{key:"resize",value:function(t){a(Object.getPrototypeOf(e.prototype),"resize",this).call(this),this.svgElt.style.width=this.ww+"px",this.svgElt.style.height=this.wh+"px";var i="";i+="M 0 0 ",i+="L 0 "+this.ww,i+=" Z",this.line1.setAttribute("d",i);var n="";n+="M0, "+this.line2Position.y+" ",n+="L "+this.ww+" "+this.line2Position.y+" ",n+="Z",this.line2.setAttribute("d",n),this.circle.setAttribute("cx",this.ww/2),this.circle.setAttribute("cy",this.line2Position.y+this.circleRayon),this.circle.setAttribute("r",this.circleRayon),this.circle.setAttribute("stroke-dashoffset",-this.circleLength),this.circle.setAttribute("stroke-dasharray",""+this.circleLength+" "+this.circleLength)}},{key:"onTouchMove",value:function(t){return this.isDragging?(a(Object.getPrototypeOf(e.prototype),"onTouchMove",this).call(this,t),void(this.dragStart0&&this.moveLoaderAnim(u["default"].getTouchEvents(t).x,this.currentDragY))):!0}},{key:"moveListContent",value:function(t,i){var n=a(Object.getPrototypeOf(e.prototype),"moveListContent",this).call(this,t,i);return n>0&&!this.isScrollInterface?this.dragRefresher(t,n):this.isScrollInterface&&this.dragStart0&&this.dragRefresher(t,n),n}},{key:"dragRefresher",value:function(t,e){if(!this.isDragging)return!0;var i=Math.min(e,this.wh),n="";n+="M "+this.ww+" 0 ",n+="L 0 0 ",n+="L 0 "+.5*i+" ",n+="L "+this.ww+" "+.5*i+" ",n+="L 0 "+.5*i+" ",n+="C "+t+" "+.5*i+" "+.72*this.ww+" "+i+" "+1*this.ww+" "+.5*i,n+="Z ",this.line1.setAttribute("d",n)}},{key:"moveLoaderAnim",value:function(t,e){this.line2Position.x=Math.max(this.ww-1.5*e,.2*this.ww);var i="";i+="M0  "+this.line2Position.y+" ",i+="L "+this.line2Position.x+" "+this.line2Position.y,this.line2.setAttribute("d",i),this.circle.setAttribute("r",this.circleRayon)}},{key:"afterDragEnd",value:function(t){var e=this;this.isDragging=!1,this.isDisabled=!0;var i={y:Math.min(t.dragEnd.y,this.wh)};return this.isScrollInterface&&!this.dragStart0?(this.isDisabled=!1,!0):void(t.distance<this.refreshDistanceTrigger?TweenLite.to(i,.5,{y:0,ease:Elastic.easeOut.config(1,.3),onUpdate:function(){var t="";t+="M "+e.ww+" 0 ",t+="L 0 0 ",t+="L 0 0 ",t+="L "+e.ww+" 0 ",t+="L 0 0 ",t+="C 0 0 "+.72*e.ww+" "+i.y+" "+1*e.ww+" 0 ",t+="Z ",e.line1.setAttribute("d",t),e.contentElt.style.transform="translate3d(0, "+i.y+"px, 0)",e.contentElt.setAttribute("data-y",0);var n="";n+="M0  "+e.line2Position.y+" ",n+="L "+(e.ww-i.y)+" "+e.line2Position.y,e.line2.setAttribute("d",n)},onComplete:function(){e.isDisabled=!1,e.containerElt.classList.remove("fixed")}}):(this.lineToCircle(),TweenLite.to(i,.5,{y:this.stretchHeight,ease:Elastic.easeOut.config(1,.3),onUpdate:function(){var t="";t+="M "+e.ww+" 0 ",t+="L 0 0 ",t+="L 0 "+e.stretchHeight+" ",t+="L "+e.ww+" "+e.stretchHeight+" ",t+="L 0 "+e.stretchHeight+" ",t+="C 0 "+e.stretchHeight+" "+.72*e.ww+" "+i.y+" "+1*e.ww+" "+e.stretchHeight+" ",t+="Z ",e.line1.setAttribute("d",t),e.contentElt.style.transform="translate3d(0, "+i.y+"px, 0)",e.contentElt.setAttribute("data-y",0)},onComplete:function(){}})))}},{key:"lineToCircle",value:function(){var t=this;TweenLite.to(this.line2Position,.5,{x:this.ww/2,ease:Sine.easeInOut,onUpdate:function(){var e="";e+="M0, "+t.line2Position.y+" ",e+="L "+t.line2Position.x+" "+t.line2Position.y+" ",t.line2.setAttribute("d",e)},onComplete:function(){t.circle.setAttribute("stroke-dashoffset",-t.circleLength),t.circle.setAttribute("stroke-dasharray",""+t.circleLength+" "+t.circleLength),t.line2Position.dashPos=t.circleLength,t.line2Position.x=0,TweenLite.to(t.line2Position,.5,{dashPos:10,x:t.ww/2,ease:Sine.easeInOut,onUpdate:function(){t.circle.setAttribute("stroke-dashoffset",t.line2Position.dashPos);var e="";e+="M "+t.line2Position.x+" "+t.line2Position.y+" ",e+="L "+t.ww/2+" "+t.line2Position.y+" ",t.line2.setAttribute("d",e)},onComplete:function(){t.rotateCircle(),t.operation()}})}})}},{key:"rotateCircle",value:function(){var t=this,e={z:-90};this.circle.style.transform="rotateZ(-90deg)",TweenLite.to(e,1,{z:270,ease:Sine.easeInOut,onUpdate:function(){t.circle.style.transform="rotateZ("+e.z+"deg)"},onComplete:function(){t.isLongOperationFinish===!0?(t.isLongOperationFinish=!1,t.reverseAnimation()):t.rotateCircle()}})}},{key:"reverseAnimation",value:function(){var t=this,e={z:270},i={x:0,y:0,dashPos:0};this.circle.style.transform="rotateZ(270deg)",TweenLite.to(e,1,{z:-90,ease:Sine.easeInOut,onUpdate:function(){t.circle.style.transform="rotateZ("+e.z+"deg)"},onComplete:function(){i.x=t.ww/2,i.dashPos=10,TweenLite.to(i,.5,{x:0,dashPos:t.circleLength,ease:Sine.easeInOut,onUpdate:function(){t.circle.setAttribute("stroke-dashoffset",i.dashPos);var e="";e+="M "+i.x+" "+t.line2Position.y+" ",e+="L "+t.ww/2+" "+t.line2Position.y+" ",t.line2.setAttribute("d",e)},onComplete:function(){i.x=t.ww/2,t.pushUpList(),TweenLite.to(i,1,{x:t.ww,ease:Sine.easeInOut,onUpdate:function(){var e="";e+="M 0 "+t.line2Position.y+" ",e+="L "+i.x+" "+t.line2Position.y+" ",t.line2.setAttribute("d",e)},onComplete:function(){t.isDisabled=!1,t.containerElt.classList.remove("fixed")}})}})}})}},{key:"pushUpList",value:function(){var t=this,e={y:Math.min(this.velocityEvent.dragEnd.y,this.wh)};TweenLite.to(e,1,{y:0,ease:Elastic.easeOut.config(1,.3),onUpdate:function(){var i="";i+="M "+t.ww+" 0 ",i+="L 0 0 ",i+="L 0 0 ",i+="L "+t.ww+" 0 ",i+="L 0 0 ",i+="C "+t.velocityEvent.dragEnd.x+" 0 "+.72*t.ww+" "+e.y+" "+1*t.ww+" 0 ",i+="Z ",t.line1.setAttribute("d",i),t.contentElt.style.transform="translate3d(0, "+e.y+"px, 0)",t.contentElt.setAttribute("data-y",0)},onComplete:function(){t.isDisabled=!1}})}},{key:"finishLongOperation",value:function(){this.isLongOperationFinish=!0}}]),e}(h["default"]);e.exports=d},{"./events":3,"./scroller":5}],3:[function(t,e,i){"use strict";var n={isTouch:"ontouchstart"in window,touchStart:"ontouchstart"in window?"touchstart":"mousedown",touchMove:"ontouchstart"in window?"touchmove":"mousemove",touchEnd:"ontouchstart"in window?"touchend":"mouseup",getTouchEvents:function(t){return{x:t.clientX||t.touches&&t.touches[0]&&t.touches[0].clientX||t.targetTouches&&t.targetTouches[0]&&t.targetTouches[0].clientX||t.changedTouches&&t.changedTouches[0]&&t.changedTouches[0].clientX,y:t.clientY||t.touches&&t.touches[0]&&t.touches[0].clientY||t.targetTouches&&t.targetTouches[0]&&t.targetTouches[0].clientY||t.changedTouches&&t.changedTouches[0]&&t.changedTouches[0].clientY}}};e.exports=n},{}],4:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=t("./elastic-scroller.js"),s=n(o),r=null,a=function(){setTimeout(function(){r.finishLongOperation()},1e3)},c=function(){r=new s["default"]({containerElt:document.getElementById("container-list"),contentElt:document.getElementById("content-list"),svgElt:document.getElementById("svgElt"),stretchHeight:100,operation:a}).init()};c()},{"./elastic-scroller.js":2}],5:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=t("./events.js"),a=n(r),c=t("./velocityEvent.js"),h=n(c),l=function(){function t(e){o(this,t),this.contentElt=e.contentElt,this.containerElt=e.containerElt,this.refreshDistanceTrigger=this.ww/2,this.maxContentListDragY=0,this.isDragging=!1,this.currentDragY=0,this.stretchHeight=100,this.velocityEvent=new h["default"],this.isDisabled=!1,this.dragStart0=!1,this.isScrollInterface=a["default"].isTouch}return s(t,[{key:"init",value:function(){var t=this;return a["default"].isTouch||this.containerElt.classList.add("scroll-hidden"),document.addEventListener("resize",function(){resize()}),this.velocityEvent.listenTo(this.containerElt,a["default"].touchStart,function(e){t.onTouchStart(e)}),this.velocityEvent.listenTo(this.containerElt,a["default"].touchEnd,function(e){t.onTouchEnd(e)}),this.isScrollInterface?(this.containerElt.addEventListener("scroll",function(t){}),this.containerElt.addEventListener(a["default"].touchMove,function(e){t.onTouchMove(e)})):this.containerElt.addEventListener(a["default"].touchMove,function(e){t.onTouchMove(e)}),this.resize(),this}},{key:"resize",value:function(t){this.ww=window.innerWidth||document.documentElement.clientWidth,this.wh=window.innerHeight||document.documentElement.clientHeight,this.refreshDistanceTrigger=this.wh/4;var e=this.containerElt.offsetHeight;this.maxContentListDragY=this.contentElt.offsetHeight-e}},{key:"onTouchStart",value:function(t){!this.isScrollInterface&&t.preventDefault(),this.isDisabled||(this.isDragging=!0,this.dragStart0=0===this.containerElt.scrollTop)}},{key:"onTouchMove",value:function(t){return!this.isScrollInterface&&t.preventDefault(),this.isDragging?(this.isScrollInterface?(this.dragStart0=this.dragStart0&&0===this.containerElt.scrollTop,this.currentDragY=this.dragStart0?a["default"].getTouchEvents(t).y-this.velocityEvent.dragStart.y+(0|parseInt(this.contentElt.getAttribute("data-y"),10)):this.containerElt.scrollTop,this.dragStart0&&this.currentDragY>0?this.containerElt.classList.add("fixed"):this.containerElt.classList.remove("fixed")):this.currentDragY=a["default"].getTouchEvents(t).y-this.velocityEvent.dragStart.y+(0|parseInt(this.contentElt.getAttribute("data-y"),10)),void this.moveListContent(a["default"].getTouchEvents(t).x,this.currentDragY)):!0}},{key:"onTouchEnd",value:function(t){var e=this;!this.isScrollInterface&&t.preventDefault();var i=this.velocityEvent.getDragInfos(),n=this;return this.isDragging?(n.isDragging=!1,n.contentElt.setAttribute("data-y",n.currentDragY),void(n.currentDragY>1?(n.isDisabled=!0,n.afterDragEnd&&n.afterDragEnd(i),n.dragStart0=!1):!this.isScrollInterface&&i.velocity>.3?!function(){var t={y:n.currentDragY},o=0;o=i.toTop?Math.max(-n.maxContentListDragY,n.currentDragY-i.velocity*i.distance):Math.min(-0,n.currentDragY+i.velocity*i.distance),TweenLite.to(t,i.velocity/2,{y:o,ease:Power4.easeOut,onUpdate:function(){n.contentElt.style.transform="translate3d(0, "+t.y+"px, 0)"},onComplete:function(){n.contentElt.setAttribute("data-y",o),e.containerElt.classList.remove("fixed")}})}():this.isScrollInterface&&this.containerElt.classList.remove("fixed"))):!0}},{key:"moveListContent",value:function(t,e){var i=Math.max(e,-this.maxContentListDragY);return this.currentDragY=i,this.isScrollInterface?i>0&&this.isScrollInterface&&this.dragStart0&&(this.contentElt.style.transform="translate3d(0, "+i+"px, 0)",this.contentElt.setAttribute("data-y",0)):this.contentElt.style.transform="translate3d(0, "+i+"px, 0)",i}},{key:"afterDragEnd",value:function(t){var e=this,i={x:0,y:this.currentDragY};this.isDragging=!1,TweenLite.to(i,.5,{y:0,ease:Elastic.easeOut.config(1,.3),onUpdate:function(){e.contentElt.style.transform="translate3d(0, "+i.y+"px, 0)",e.contentElt.setAttribute("data-y",0)},onComplete:function(){}})}}]),t}();e.exports=l},{"./events.js":3,"./velocityEvent.js":6}],6:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=t("./Events"),a=n(r),c=function(){function t(){o(this,t),this.dragStart={x:0,y:0,time:0},this.dragEnd={x:0,y:0,time:0},this.distance=0,this.velocity=0}return s(t,[{key:"listenTo",value:function(t,e,i){var n=this;t.addEventListener(e,function(t){e===a["default"].touchStart?n.startDrag(t):e===a["default"].touchEnd&&n.endDrag(t),i(t,n.getDragInfos())})}},{key:"startDrag",value:function(t){var e=a["default"].getTouchEvents(t);this.dragStart.x=e.x,this.dragStart.y=e.y,this.dragStart.time=Date.now()}},{key:"endDrag",value:function(t){var e=a["default"].getTouchEvents(t);this.dragEnd.x=e.x,this.dragEnd.y=e.y,this.dragEnd.time=Date.now()}},{key:"calcDistance",value:function(){this.distance=Math.sqrt(Math.pow(this.dragEnd.x-this.dragStart.x,2)+Math.pow(this.dragEnd.y-this.dragStart.y,2))}},{key:"calcVelocity",value:function(){this.velocity=this.distance/(this.dragEnd.time-this.dragStart.time)}},{key:"getDragInfos",value:function(){return this.calcDistance(),this.calcVelocity(),{dragStart:this.dragStart,dragEnd:this.dragEnd,distance:this.distance,velocity:this.velocity,toTop:this.dragStart.y>this.dragEnd.y,toLeft:this.dragStart.x>this.dragEnd.x}}}]),t}();e.exports=c},{"./Events":1}]},{},[4]);
//# sourceMappingURL=app.min.js.map